# Инструкция по установке и запуску системы автоматизации винного производства

## Системные требования
- PHP 7.4 или выше
- MySQL 5.7 или выше
- Веб-сервер Apache или Nginx
- Поддержка PDO для MySQL

## Шаги по установке

### 1. Подготовка базы данных
1. Создайте новую базу данных MySQL:
```sql
CREATE DATABASE winery_automation;
```

2. Импортируйте структуру базы данных из файла `database-schema.sql`:
```bash
mysql -u ваш_пользователь -p winery_automation < database-schema.sql
```

### 2. Настройка конфигурации
1. Откройте файл `config/database.php`
2. Измените параметры подключения к базе данных:
```php
private $host = 'localhost';     // Хост базы данных
private $db_name = 'winery_automation';  // Имя базы данных 
private $username = 'root';      // Имя пользователя
private $password = '';          // Пароль
```

### 3. Установка на веб-сервер
1. Скопируйте все файлы проекта в корневую директорию вашего веб-сервера (например, в `htdocs` для XAMPP или `www` для WAMP)
2. Настройте права доступа:
```bash
chmod -R 755 project/
chmod -R 777 project/logs/  # Если директория логов существует
```

### 4. Настройка веб-сервера
#### Для Apache:
Убедитесь, что в корне проекта есть файл `.htaccess` с следующим содержимым:
```
RewriteEngine On
RewriteBase /
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php [QSA,L]
```

#### Для Nginx:
Добавьте в конфигурацию сервера:
```
location / {
    try_files $uri $uri/ /index.php?$query_string;
}
```

### 5. Первый запуск и настройка
1. Откройте веб-браузер и перейдите по адресу вашего сервера (например, `http://localhost/`)
2. Система автоматически перенаправит вас на страницу входа
3. Используйте следующие тестовые учетные данные:

| Роль | Логин | Пароль |
|------|-------|--------|
| Администратор | admin | password |
| Начальник склада | warehouse | password |
| Менеджер по закупкам | purchasing | password |
| Поставщик | supplier1 | password |

## Структура директорий проекта

```
project/
├── config/               # Конфигурационные файлы
├── controllers/          # Контроллеры для обработки бизнес-логики
├── views/                # Представления (интерфейс пользователя)
│   ├── admin/            # Страницы администратора
│   ├── auth/             # Страницы аутентификации
│   ├── common/           # Общие компоненты
│   ├── purchasing/       # Страницы менеджера по закупкам
│   ├── supplier/         # Страницы поставщика
│   └── warehouse/        # Страницы начальника склада
└── index.php             # Точка входа
```

## Основные функции по ролям

### Администратор
- Управление пользователями: создание, редактирование, блокировка
- Управление камерами наблюдения
- Доступ ко всем функциям системы

### Начальник склада
- Инвентаризация товаров
- Прием товаров на склад
- Выдача товаров со склада
- Просмотр истории транзакций

### Менеджер по закупкам
- Управление поставщиками
- Создание и одобрение заказов
- Контроль товаров с низким запасом
- Коммуникация с поставщиками

### Поставщик
- Просмотр и обработка заказов
- Управление своими товарами
- Обмен сообщениями с менеджером по закупкам

## Решение возможных проблем

### Проблемы с подключением к базе данных
- Проверьте правильность параметров подключения в `config/database.php`
- Убедитесь, что MySQL сервер запущен
- Проверьте права доступа пользователя базы данных

### Ошибки при входе в систему
- Убедитесь, что база данных корректно импортирована
- Проверьте наличие тестовых пользователей в таблице `users`

### Проблемы с правами доступа к файлам
- Убедитесь, что веб-сервер имеет права на чтение всех файлов проекта
- Для Ubuntu/Debian систем может потребоваться команда: `chown -R www-data:www-data project/`

### Белый экран или ошибка 500
- Проверьте логи ошибок веб-сервера (`/var/log/apache2/error.log` или аналогичный)
- Временно включите отображение ошибок PHP, добавив в начало index.php:
```php
ini_set('display_errors', 1);
error_reporting(E_ALL);
```

## Контакты для поддержки
При возникновении проблем с установкой или использованием системы обращайтесь:
- Email: support@winery-automation.example.com
- Телефон: +38 (XXX) XXX-XX-XX

# Система автоматизации винного производства

## Обзор системы

Разработанная система предназначена для автоматизации процессов организации производства вина, включая управление запасами, обработку заказов, взаимодействие с поставщиками и контроль всего производственного цикла. Система реализована как веб-приложение с разграничением доступа на основе ролей пользователей.

## Ключевые роли и функционал

### 1. Начальник склада
**Функции:**
- Учет и контроль товаров/сырья на складе
- Прием товаров от поставщиков
- Выдача товаров в производство
- Мониторинг запасов и анализ движения товаров
- Просмотр истории всех складских операций

**Ключевые страницы:**
- Панель управления (dashboard.php) - общая статистика и аналитика
- Инвентаризация (inventory.php) - просмотр и редактирование товаров
- Прием товаров (receive.php) - учет поступления товаров
- Выдача товаров (issue.php) - учет выдачи товаров
- История транзакций (transactions.php) - все движения товаров

### 2. Менеджер по закупкам
**Функции:**
- Работа с базой поставщиков
- Создание и отслеживание заказов
- Одобрение заказов от поставщиков
- Контроль товаров с низким запасом
- Коммуникация с поставщиками

**Ключевые страницы:**
- Панель управления (dashboard.php) - статистика закупок
- Поставщики (suppliers.php) - управление базой поставщиков
- Заказы (orders.php) - создание и управление заказами
- Склад (inventory.php) - контроль запасов
- Сообщения (messages.php) - обмен сообщениями с поставщиками

### 3. Поставщик
**Функции:**
- Просмотр и обработка заказов
- Подтверждение или отклонение заказов
- Мониторинг истории своих поставок
- Управление каталогом своих товаров
- Коммуникация с менеджером по закупкам

**Ключевые страницы:**
- Панель управления (dashboard.php) - личная статистика
- Заказы (orders.php) - просмотр и обработка заказов
- Товары (products.php) - управление товарами поставщика
- Сообщения (messages.php) - общение с менеджером
- Профиль (profile.php) - управление данными компании

### 4. Администратор
**Функции:**
- Управление пользователями системы
- Мониторинг камер наблюдения
- Доступ ко всем разделам системы
- Общий контроль над системой
- Получение системных оповещений о важных событиях

**Ключевые страницы:**
- Панель управления (dashboard.php) - общая статистика системы
- Пользователи (users.php) - создание и управление пользователями
- Камеры наблюдения (cameras.php) - просмотр камер наблюдения
- Доступ ко всем разделам других ролей

## Технические особенности

### Архитектура
- Построена на принципах MVC (Model-View-Controller)
- Модульная структура с разделением бизнес-логики и представления
- Единая система контроля доступа на основе ролей

### Интерфейс
- Современный адаптивный дизайн на основе Tailwind CSS
- Интерактивные элементы с использованием JavaScript
- Визуализация данных с помощью библиотеки Chart.js
- Интуитивно понятная навигация для каждой роли

### Безопасность
- Аутентификация пользователей с хешированием паролей
- Проверка прав доступа для всех операций
- Защита от основных веб-уязвимостей
- Логирование действий пользователей

### База данных
- Реляционная база данных MySQL
- Оптимизированная структура таблиц
- Транзакционное выполнение критичных операций
- Связи между таблицами для обеспечения целостности данных

## Ключевые бизнес-процессы

### Процесс закупки сырья и материалов
1. Менеджер по закупкам создает заказ поставщику
2. Поставщик получает и обрабатывает заказ
3. После подтверждения заказа менеджером, начальник склада принимает товары
4. Система автоматически обновляет остатки на складе

### Процесс выдачи сырья в производство
1. Отдел производства запрашивает сырье
2. Начальник склада оформляет выдачу через систему
3. Сырье списывается со склада
4. Создается запись о транзакции для учета

### Процесс контроля запасов
1. Система автоматически отслеживает уровень запасов
2. При снижении запаса ниже минимального, создается оповещение
3. Менеджер по закупкам получает уведомление
4. Инициируется процесс закупки

## Преимущества системы

1. **Централизованное управление** - все данные и процессы собраны в одной системе
2. **Прозрачность** - все действия фиксируются и доступны для анализа
3. **Автоматизация рутинных задач** - минимизация ручного ввода данных
4. **Аналитика** - визуальный анализ данных для принятия решений
5. **Эффективная коммуникация** - встроенная система сообщений
6. **Оперативность** - быстрый доступ к актуальной информации
7. **Масштабируемость** - возможность расширения функционала

## Перспективы развития

1. **Интеграция с бухгалтерскими системами** для автоматизации финансового учета
2. **Мобильное приложение** для работы с системой с мобильных устройств
3. **Расширенная аналитика** с прогнозированием спроса и оптимизацией запасов
4. **Система штрих-кодирования** для ускорения складских операций
5. **API для интеграции** с другими системами предприятия
6. **Модуль производственного планирования** для оптимизации производственных процессов
7. **Расширенная система уведомлений** с SMS и email оповещениями